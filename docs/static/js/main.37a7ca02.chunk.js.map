{"version":3,"sources":["article/components/header/SearchBar.tsx","article/components/header/Header.tsx","article/components/footer/Footer.tsx","article/service/Api.ts","article/service/ArticleService.ts","article/components/card/Card.tsx","article/pages/ArticleHome.tsx","article/components/content/Content.tsx","article/pages/ArticleNotFound.tsx","article/pages/ArticleViewer.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["SearchBar","useState","query","setQuery","handleSearch","console","log","className","name","placeholder","onKeyDown","e","key","onChange","target","value","icon","title","variant","disabled","onClick","Header","href","data-title","weight","Footer","api","axios","create","baseURL","snippetFrom","content","text","size","document","DOMParser","parseFromString","snippet","i","documentElement","childNodes","length","children","textContent","substring","Card","article","to","id","moment","createdAt","endOf","fromNow","ArticleHome","articles","setArticles","useEffect","get","then","response","data","_embedded","map","Content","ReactHtmlParser","ArticleNotFound","ArticleViewer","setArticle","isArticleFound","setIsArticleFound","articleParam","useParams","history","useHistory","catch","keywords","status","lastModifiedAt","App","hashType","exact","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.37a7ca02.chunk.js","sourcesContent":["import React, {useState} from \"react\";\nimport {Button, Icon, Input} from \"@contentmunch/muncher-ui\";\nimport \"./assets/SearchBar.scss\";\n\nexport const SearchBar: React.FC = () => {\n    const [query, setQuery] = useState<string>(\"\");\n    const handleQueryChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n        setQuery(e.target.value);\n    };\n    const handleSearch = () => {\n        console.log(\"search button clicked\");\n    };\n    const handleKeyDown = (e: React.KeyboardEvent<HTMLInputElement>) => {\n        if (e.key === \"Enter\" && query !== \"\") {\n            handleSearch();\n        }\n    };\n\n    return (\n        <div className=\"search-bar\">\n            <Input name=\"query\" placeholder=\"Search articles\" onKeyDown={handleKeyDown}\n                   onChange={handleQueryChange} icon=\"type\"\n            />\n            <Button title=\"Search\" variant=\"secondary\" disabled={query === \"\"}\n                    onClick={handleSearch}\n            >\n                <Icon name=\"search\"/>\n            </Button>\n        </div>\n    );\n}","import React from \"react\";\nimport {Icon} from \"@contentmunch/muncher-ui\";\nimport './assets/Header.scss';\nimport {SearchBar} from \"./SearchBar\";\n\nexport const Header: React.FC = () => {\n\n    return (\n        <header className=\"header\">\n            <div className=\"container\">\n                <nav>\n                    <a href=\"https://www.contentmunch.com\" data-title=\"Contentmunch.com home\">\n                        <Icon name=\"muncher\" weight={1}/>\n                    </a>\n                    <div className=\"header-search\">\n                        <SearchBar/>\n                    </div>\n                </nav>\n            </div>\n        </header>\n    );\n}","import React from \"react\";\n\nexport const Footer: React.FC = () => {\n    return (\n        <footer>\n            <div className=\"container\"> Footer</div>\n        </footer>\n    );\n}","import axios, {AxiosRequestConfig} from 'axios';\n\nconst developmentBaseURL = \"http://localhost:8090/api/\";\nconst productionBaseURL = \"https://www.contentmunch.com/api/\"\n\nexport const api = axios.create({\n    baseURL: process.env.NODE_ENV && process.env.NODE_ENV === \"development\" ? developmentBaseURL : productionBaseURL\n});\n\nexport const authHeader = (accessToken: string): AxiosRequestConfig => ({headers: {Authorization: 'Bearer ' + accessToken}});\n\n\n","import {api} from \"./Api\";\nimport {Article} from \"../data/Article\";\n\nexport const addEllipsis = (text: string, size?: number) => {\n    if (!size) {\n        size = 150;\n    }\n    return text.length > size ? text.substring(0, size) + \"...\" : text;\n};\n\nexport const snippetFrom = (content: string): string => {\n    const document = new DOMParser().parseFromString(\"<div>\" + content + \"</div>\", 'text/html');\n    let snippet: string = '';\n    for (let i = 0; i < document.documentElement.childNodes.length; i++) {\n\n        const children = document.documentElement.childNodes[i];\n        if (children.textContent && children.textContent !== '') {\n            snippet = children.textContent;\n            break;\n        }\n    }\n    return addEllipsis(snippet);\n\n};\nexport const getRecentArticles = (size: number): Promise<Article[]> => {\n    return api.get(\"articles?projection=withId&sort=createdAt,desc&size=\" + size)\n        .then(response => response.data._embedded.articles);\n}\n\nexport const getArticle = (id: string): Promise<Article> => {\n    return api.get(\"articles/\" + id + \"?projection=withId\")\n        .then(response => response.data);\n}","import React from \"react\";\nimport {Article} from \"../../data/Article\";\nimport {snippetFrom} from \"../../service/ArticleService\";\nimport \"./assets/Card.scss\";\nimport moment from \"moment\";\nimport {Link} from \"react-router-dom\";\n\nexport const Card: React.FC<CardProps> = ({article}) => {\n    return (\n        <div className=\"article-card\">\n            <h2><Link to={\"/\" + article.id}>{article.title}</Link></h2>\n            <p>{snippetFrom(article.content)}</p>\n            <div className=\"article-card--footer\">\n                <p>\n                    Created {moment(article.createdAt).endOf('day').fromNow()}\n                </p>\n            </div>\n        </div>\n    );\n};\n\nexport interface CardProps {\n    article: Article;\n}\n","import React, {useEffect, useState} from \"react\";\nimport {getRecentArticles} from \"../service/ArticleService\";\nimport {Article} from \"../data/Article\";\nimport {Card} from \"../components/card/Card\";\nimport \"./assets/Home.scss\";\n\nexport const ArticleHome: React.FC = () => {\n    const [articles, setArticles] = useState<Article[]>([]);\n    useEffect(() => {\n        getRecentArticles(5).then(value => {\n            setArticles(value);\n        });\n    }, []);\n    return (\n        <main>\n            <section className=\"section-home container\">\n                {\n                    articles.map(article =>\n                        <Card key={article.id} article={article}/>\n                    )\n                }\n            </section>\n        </main>\n    );\n};","import React from \"react\";\nimport ReactHtmlParser from 'react-html-parser';\nimport \"./assets/Content.scss\";\n\nexport const Content: React.FC<ContentProps> = ({content}) => {\n    return (\n        <div className=\"article-content\">\n            {content ? ReactHtmlParser(content) : \"\"}\n        </div>\n    );\n}\n\nexport interface ContentProps {\n    content?: string;\n}","import React from 'react';\nimport {Helmet} from \"react-helmet-async\";\n\nexport const ArticleNotFound: React.FC = () => {\n    return (\n        <main>\n            <Helmet>\n                <title>Resource Not Found</title>\n            </Helmet>\n            <section className=\"section-align--center\">\n                <h2>Uh-oh, article not found!</h2>\n            </section>\n        </main>\n    );\n}","import React, {useEffect, useState} from \"react\";\nimport {useHistory, useParams} from \"react-router-dom\";\nimport {getArticle} from \"../service/ArticleService\";\nimport {Article} from \"../data/Article\";\nimport \"./assets/Home.scss\";\nimport {Content} from \"../components/content/Content\";\nimport moment from \"moment\";\nimport {Helmet} from \"react-helmet-async\";\nimport {ArticleNotFound} from \"./ArticleNotFound\";\n\nexport const ArticleViewer: React.FC = () => {\n    const [article, setArticle] = useState<Article>();\n    const [isArticleFound, setIsArticleFound] = useState(true);\n    const articleParam = useParams<ArticleParam>();\n    const history = useHistory();\n    useEffect(() => {\n        getArticle(articleParam.id).then(value => {\n            setArticle(value);\n        }).catch((() => {\n           // history.push(\"/not-found\");\n            setIsArticleFound(false);\n        }));\n    }, [articleParam, history]);\n    return (\n        isArticleFound?\n            <main>\n                <Helmet>\n                    <title>{article?.title}</title>\n                </Helmet>\n                <section className=\"section-home container\">\n                    <h2>{article?.title}</h2>\n                    <Content content={article?.content}/>\n                    <p>keywords: {article?.keywords}</p>\n                    <p>status: {article?.status}</p>\n                    <p>Created {moment(article?.createdAt).endOf('day').fromNow()}</p>\n                    <p>LastModified {moment(article?.lastModifiedAt).endOf('day').fromNow()}</p>\n\n                </section>\n            </main>\n            : <ArticleNotFound/>\n\n    );\n};\n\nexport interface ArticleParam {\n    id: string\n}","import React from 'react';\nimport {HashRouter as Router, Route, Switch} from 'react-router-dom';\nimport './assets/App.scss';\nimport {HelmetProvider} from \"react-helmet-async\";\nimport {Header} from \"./article/components/header/Header\";\nimport {Footer} from \"./article/components/footer/Footer\";\nimport {ArticleHome} from \"./article/pages/ArticleHome\";\nimport {ArticleViewer} from \"./article/pages/ArticleViewer\";\n\nexport const App: React.FC = () => {\n    return (\n        <HelmetProvider>\n            <Router hashType=\"noslash\" >\n                <Header/>\n                <Switch>\n                    <Route exact path=\"/\">\n                        <ArticleHome/>\n                    </Route>\n                    <Route exact path=\"/:id\">\n                        <ArticleViewer/>\n                    </Route>\n                </Switch>\n                <Footer/>\n            </Router>\n        </HelmetProvider>\n    );\n};\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);  \n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n}\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {App} from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n    <React.StrictMode>\n        <App/>\n    </React.StrictMode>,\n    document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}