{"version":3,"sources":["article/service/Api.ts","article/service/ArticleService.ts","article/components/card/Card.tsx","article/pages/ArticleHome.tsx","article/pages/ArticleNotFound.tsx","article/components/content/Content.tsx","article/pages/ArticleViewer.tsx","article/components/footer/Footer.tsx","article/components/header/SearchBar.tsx","article/components/header/Header.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["api","axios","create","baseURL","snippetFrom","content","text","size","document","DOMParser","parseFromString","snippet","i","documentElement","childNodes","length","children","textContent","substring","Card","article","className","to","id","title","moment","createdAt","endOf","fromNow","ArticleHome","useState","articles","setArticles","useEffect","get","then","response","data","_embedded","value","map","ArticleNotFound","Content","ReactHtmlParser","ArticleViewer","setArticle","isArticleFound","setIsArticleFound","articleParam","useParams","history","useHistory","catch","keywords","status","lastModifiedAt","Footer","SearchBar","query","setQuery","handleSearch","console","log","name","placeholder","onKeyDown","e","key","onChange","target","icon","variant","disabled","onClick","Header","href","data-title","weight","App","hashType","exact","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.3c2b46fc.chunk.js","sourcesContent":["import axios, {AxiosRequestConfig} from 'axios';\n\nconst developmentBaseURL = \"http://localhost:8090/api/\";\nconst productionBaseURL = \"https://www.contentmunch.com/api/\"\n\nexport const api = axios.create({\n    baseURL: process.env.NODE_ENV && process.env.NODE_ENV === \"development\" ? developmentBaseURL : productionBaseURL\n});\n\nexport const authHeader = (accessToken: string): AxiosRequestConfig => ({headers: {Authorization: 'Bearer ' + accessToken}});\n\n\n","import {api} from \"./Api\";\nimport {Article} from \"../data/Article\";\n\nexport const addEllipsis = (text: string, size?: number) => {\n    if (!size) {\n        size = 150;\n    }\n    return text.length > size ? text.substring(0, size) + \"...\" : text;\n};\n\nexport const snippetFrom = (content: string): string => {\n    const document = new DOMParser().parseFromString(\"<div>\" + content + \"</div>\", 'text/html');\n    let snippet: string = '';\n    for (let i = 0; i < document.documentElement.childNodes.length; i++) {\n\n        const children = document.documentElement.childNodes[i];\n        if (children.textContent && children.textContent !== '') {\n            snippet = children.textContent;\n            break;\n        }\n    }\n    return addEllipsis(snippet);\n\n};\nexport const getRecentArticles = (size: number): Promise<Article[]> => {\n    return api.get(\"articles?projection=withId&sort=createdAt,desc&size=\" + size)\n        .then(response => response.data._embedded.articles);\n}\n\nexport const getArticle = (id: string): Promise<Article> => {\n    return api.get(\"articles/\" + id + \"?projection=withId\")\n        .then(response => response.data);\n}","import React from \"react\";\nimport {Article} from \"../../data/Article\";\nimport {snippetFrom} from \"../../service/ArticleService\";\nimport \"./assets/Card.scss\";\nimport moment from \"moment\";\nimport {Link} from \"react-router-dom\";\n\nexport const Card: React.FC<CardProps> = ({article}) => {\n    return (\n        <div className=\"article-card\">\n            <h2><Link to={\"/\" + article.id}>{article.title}</Link></h2>\n            <p>{snippetFrom(article.content)}</p>\n            <div className=\"article-card--footer\">\n                <p>\n                    Created {moment(article.createdAt).endOf('day').fromNow()}\n                </p>\n            </div>\n        </div>\n    );\n};\n\nexport interface CardProps {\n    article: Article;\n}\n","import React, {useEffect, useState} from \"react\";\nimport {getRecentArticles} from \"../service/ArticleService\";\nimport {Article} from \"../data/Article\";\nimport {Card} from \"../components/card/Card\";\nimport \"./assets/Home.scss\";\n\nexport const ArticleHome: React.FC = () => {\n    const [articles, setArticles] = useState<Article[]>([]);\n    useEffect(() => {\n        getRecentArticles(5).then(value => {\n            setArticles(value);\n        });\n    }, []);\n    return (\n        <main>\n            <section className=\"section-home container\">\n                {\n                    articles.map(article =>\n                        <Card key={article.id} article={article}/>\n                    )\n                }\n            </section>\n        </main>\n    );\n};","import React from 'react';\nimport {Helmet} from \"react-helmet-async\";\n\nexport const ArticleNotFound: React.FC = () => {\n    return (\n        <main>\n            <Helmet>\n                <title>Resource Not Found</title>\n            </Helmet>\n            <section className=\"section-align--center\">\n                <h2>Uh-oh, article not found!</h2>\n            </section>\n        </main>\n    );\n}","import React from \"react\";\nimport ReactHtmlParser from 'react-html-parser';\nimport \"./assets/Content.scss\";\n\nexport const Content: React.FC<ContentProps> = ({content}) => {\n    return (\n        <div className=\"article-content\">\n            {content ? ReactHtmlParser(content) : \"\"}\n        </div>\n    );\n}\n\nexport interface ContentProps {\n    content?: string;\n}","import React, {useEffect, useState} from \"react\";\nimport {useHistory, useParams} from \"react-router-dom\";\nimport {getArticle} from \"../service/ArticleService\";\nimport {Article} from \"../data/Article\";\nimport \"./assets/Home.scss\";\nimport {Content} from \"../components/content/Content\";\nimport moment from \"moment\";\nimport {Helmet} from \"react-helmet-async\";\nimport {ArticleNotFound} from \"./ArticleNotFound\";\n\nexport const ArticleViewer: React.FC = () => {\n    const [article, setArticle] = useState<Article>();\n    const [isArticleFound, setIsArticleFound] = useState(true);\n    const articleParam = useParams<ArticleParam>();\n    const history = useHistory();\n    useEffect(() => {\n        getArticle(articleParam.id).then(value => {\n            setArticle(value);\n        }).catch((() => {\n           // history.push(\"/not-found\");\n            setIsArticleFound(false);\n        }));\n    }, [articleParam, history]);\n    return (\n        isArticleFound?\n            <main>\n                <Helmet>\n                    <title>{article?.title}</title>\n                </Helmet>\n                <section className=\"section-home container\">\n                    <h2>{article?.title}</h2>\n                    <Content content={article?.content}/>\n                    <p>keywords: {article?.keywords}</p>\n                    <p>status: {article?.status}</p>\n                    <p>Created {moment(article?.createdAt).endOf('day').fromNow()}</p>\n                    <p>LastModified {moment(article?.lastModifiedAt).endOf('day').fromNow()}</p>\n\n                </section>\n            </main>\n            : <ArticleNotFound/>\n\n    );\n};\n\nexport interface ArticleParam {\n    id: string\n}","import React from \"react\";\n\nexport const Footer: React.FC = () => {\n    return (\n        <footer>\n            <div className=\"container\"> Footer</div>\n        </footer>\n    );\n}","import React, {useState} from \"react\";\nimport {Button, Icon, Input} from \"@contentmunch/muncher-ui\";\nimport \"./assets/SearchBar.scss\";\n\nexport const SearchBar: React.FC = () => {\n    const [query, setQuery] = useState<string>(\"\");\n    const handleQueryChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n        setQuery(e.target.value);\n    };\n    const handleSearch = () => {\n        console.log(\"search button clicked\");\n    };\n    const handleKeyDown = (e: React.KeyboardEvent<HTMLInputElement>) => {\n        if (e.key === \"Enter\" && query !== \"\") {\n            handleSearch();\n        }\n    };\n\n    return (\n        <div className=\"search-bar\">\n            <Input name=\"query\" placeholder=\"Search articles\" onKeyDown={handleKeyDown}\n                   onChange={handleQueryChange} icon=\"type\"\n            />\n            <Button title=\"Search\" variant=\"secondary\" disabled={query === \"\"}\n                    onClick={handleSearch}\n            >\n                <Icon name=\"search\"/>\n            </Button>\n        </div>\n    );\n}","import React from \"react\";\nimport {Icon} from \"@contentmunch/muncher-ui\";\nimport './assets/Header.scss';\nimport {SearchBar} from \"./SearchBar\";\n\nexport const Header: React.FC = () => {\n\n    return (\n        <header className=\"header\">\n            <div className=\"container\">\n                <nav>\n                    <a href=\"https://www.contentmunch.com\" data-title=\"Contentmunch.com home\">\n                        <Icon name=\"muncher\" weight={1}/>\n                    </a>\n                    <div className=\"header-search\">\n                        <SearchBar/>\n                    </div>\n                </nav>\n            </div>\n        </header>\n    );\n}","import React from 'react';\nimport {HashRouter as Router, Route, Switch} from 'react-router-dom';\nimport './assets/App.scss';\nimport {HelmetProvider} from \"react-helmet-async\";\nimport {ArticleHome, ArticleViewer, Footer, Header} from \"./article\";\n\nexport default function App() {\n    return (\n        <HelmetProvider>\n            <Router hashType=\"noslash\">\n                <Header/>\n                <Switch>\n                    <Route exact path=\"/\">\n                        <ArticleHome/>\n                    </Route>\n                    <Route exact path=\"/:id\">\n                        <ArticleViewer/>\n                    </Route>\n                </Switch>\n                <Footer/>\n            </Router>\n        </HelmetProvider>\n    );\n}\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);  \n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n}\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n    <React.StrictMode>\n        <App/>\n    </React.StrictMode>,\n    document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}